"use strict";(self.webpackChunkweb_support=self.webpackChunkweb_support||[]).push([[4041],{7069:(e,t,n)=>{n.d(t,{a:()=>i,f:()=>d,g:()=>s,i:()=>r,r:()=>a});const i=["a[href]","area[href]",'input:not([type="hidden"]):not([type="radio"]):not(:disabled)','input[type="radio"]:not(:disabled)',"select:not(:disabled)","textarea:not(:disabled)","button:not(:disabled)","iframe","audio[controls]","video[controls]","[contenteditable]","[tabindex]"].map((e=>e+':not([tabindex^="-"])')).join(","),s=e=>{if(e.matches(i))return e;if("SLOT"===e.tagName){const t=e.getRootNode().host,n=e.getAttribute("name")?t.querySelector(`[slot="${e.getAttribute("name")}"]`):Array.from(t.children).find((e=>!e.hasAttribute("slot")));return n?s(n):null}if(e.shadowRoot){const t=Array.from(e.shadowRoot.children);for(const e of t){const t=s(e);if(t)return t}}const t=Array.from(e.children);for(const n of t){const e=s(n);if(e)return e}return null},r=e=>e&&"focusInner"in e;let o;const a=e=>{e&&!o&&(o=setTimeout((()=>{const e=Array.from(document.querySelectorAll("[autofocus]")).find((e=>!e.disabled));r(e)&&e.focusInner()}),200))},d=e=>{r(e)?e.focusInner():e.focus()}},4041:(e,t,n)=>{n.r(t),n.d(t,{ld_menu:()=>a});var i=n(4060),s=n(1677),r=n(7433);const o=e=>{if(!(0,r.a)(e))return[];if((0,r.b)(e))return[e];const t=[];return(0,r.c)(e)?(e.assignedNodes().forEach((e=>t.push(...o(e)))),t):(e.childNodes.forEach((e=>t.push(...o(e)))),t)},a=class{constructor(e){var t=this;(0,i.r)(this,e),this.initMenuItems=function(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if((0,r.a)(e)){if((0,r.b)(e)){if(e.size=t.size,!n)return;return e.ldTabindex=t.initialized?-1:0,void(t.initialized||(t.initialized=!0))}(0,r.c)(e)?e.assignedNodes().forEach((e=>t.initMenuItems(e))):e.childNodes.forEach((e=>t.initMenuItems(e)))}},this.getAllMenuItems=()=>{const e=[];return this.el.querySelectorAll("slot, ld-menuitem").forEach((t=>e.push(...o(t)))),e},this.focusFirst=e=>{const t=this.getAllMenuItems(),[n]=t;e.ldTabindex=-1,n.ldTabindex=0,n.focusInner()},this.focusLast=e=>{const t=this.getAllMenuItems(),n=t[t.length-1];e.ldTabindex=-1,n.ldTabindex=0,n.focusInner()},this.focusNext=e=>{const t=this.getAllMenuItems(),n=t.indexOf(e),i=t.length>n+1?t[n+1]:t[0];e.ldTabindex=-1,i.ldTabindex=0,i.focusInner()},this.focusPrev=e=>{const t=this.getAllMenuItems(),n=t.indexOf(e),i=0===n?t[t.length-1]:t[n-1];e.ldTabindex=-1,i.ldTabindex=0,i.focusInner()},this.handleKeyDown=e=>{const t=e.target;let n;switch(e.key){case"ArrowUp":e.preventDefault(),e.metaKey?this.focusFirst(t):this.focusPrev(t);break;case"ArrowDown":e.preventDefault(),e.metaKey?this.focusLast(t):this.focusNext(t);break;case"Home":e.preventDefault(),this.focusFirst(t);break;case"End":e.preventDefault(),this.focusLast(t);break;default:n=this.typeAheadHandler.typeAhead(e.key,t),n&&(t.ldTabindex=-1,n.ldTabindex=0)}},this.updateMenuItems=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t.el.querySelectorAll("slot, ld-menuitem").forEach((n=>t.initMenuItems(n,e)))},this.size=void 0,this.initialized=!1,this.typeAheadHandler=void 0}async getFirstMenuItem(){return this.getAllMenuItems()[0]}handleSizeChange(){this.updateMenuItems()}componentWillLoad(){this.updateMenuItems(!0),this.typeAheadHandler=new s.T(this.getAllMenuItems())}disconnectedCallback(){var e;null===(e=this.typeAheadHandler)||void 0===e||e.clearTimeout()}render(){return(0,i.h)(i.H,{key:"37b0d593cc31137f1715f9332a6addb5f5a89b2f",onKeyDown:this.handleKeyDown},(0,i.h)("ul",{key:"c4481774f84177440d06e25535de05b51c3eea39",class:"ld-menu",part:"list",role:"menu"},(0,i.h)("slot",{key:"7ba7ad6e76edcaca042c2f721ae20b3284aa74a6"})))}get el(){return(0,i.g)(this)}static get watchers(){return{size:["handleSizeChange"]}}};a.style=":host{display:inline-flex}.ld-menu{background:var(--ld-col-wht);border-radius:var(--ld-br-l);box-shadow:var(--ld-shadow-stacked);box-sizing:border-box;list-style:none;margin:0;padding:var(--ld-sp-12)}"},7433:(e,t,n)=>{n.d(t,{a:()=>i,b:()=>r,c:()=>o,i:()=>s});const i=e=>"querySelectorAll"in e,s=e=>"focus"in e,r=e=>"LD-MENUITEM"===e.tagName,o=e=>"SLOT"===e.tagName},1677:(e,t,n)=>{n.d(t,{T:()=>s});var i=n(7069);class s{constructor(e){this.typeAheadQuery="",this.getElementByQuery=()=>{if(!this.typeAheadQuery)return;const e=this.typeAheadQuery.toLowerCase(),t=this._options.map((e=>e.textContent.trim().toLowerCase()));let n=t.findIndex(((t,n)=>n>this.currentIndex&&0===t.indexOf(e)));if(-1===n&&this.currentIndex>-1&&(n=t.findIndex((t=>0===t.indexOf(e)))),n>-1)return this._options[n];const i=[...t].sort().find((t=>e<t));return i?this._options[t.indexOf(i)]:void 0},this.typeAhead=(e,t)=>{if(!(e=>1===e.length&&e.match(/\S/))(e))return;this.typeAheadQuery||(this.currentIndex=t?this._options.indexOf(t):-1),this.typeAheadQuery=this.typeAheadQuery+e;const n=this.getElementByQuery();return n&&(0,i.f)(n),this.clearTimeout(),this.typeAheadTimeout=window.setTimeout((()=>{this.typeAheadQuery=""}),500),n},this.options=e}set options(e){this._options=Array.isArray(e)?e:Array.from(e)}clearTimeout(){window.clearTimeout(this.typeAheadTimeout)}}}}]);
//# sourceMappingURL=4041.e7c4c47f.chunk.js.map